#
# LinkedIDS Schema / Mappings
#
# V. de Boer and C. Gueret March 2012
#
@prefix rdfs:     <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos:     <http://www.w3.org/2004/02/skos/core#> .
@prefix ens:      <http://www.europeana.eu/schemas/edm/> .
@prefix ontology: <http://www.geonames.org/ontology#> .
@prefix dcterms:  <http://purl.org/dc/terms/> .
@prefix rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix foaf:	   <http://xmlns.com/foaf/0.1/> .
@prefix xsd:	   <http://www.w3.org/2001/XMLSchema#>.
@prefix api2lod:  <http://api2lod.appspot.com/vocabulary#> .
@prefix owl:      <http://www.w3.org/2002/07/owl#> .

# ---------------------------  Country --------------------------------

:Organisation
	a rdfs:Class ;
	rdfs:label "Organisation" ;
	api2lod:matcher [
		api2lod:matcherName "uk.ac.ids.linker.impl.API2LOD";
		api2lod:parameter [
			api2lod:parameterKey "queryPattern";
			api2lod:parameterValue "http://oipa.openaidsearch.org/api/v2/activities/?format=json&organisations={id}";
		];
		api2lod:parameter [
			api2lod:parameterKey "queryPatternID";
			api2lod:parameterValue "#ref";
		];
		api2lod:parameter [
			api2lod:parameterKey "resultsPattern";
			api2lod:parameterValue "oipa/resource/Activity/{iati_identifier}";
		];
		api2lod:parameter [
			api2lod:parameterKey "resultsRoot";
			api2lod:parameterValue "objects";
		];
		rdf:predicate :hasActivity . 
	];
	api2lod:pattern "http://oipa.openaidsearch.org/api/v2/organisations/{id}".
	
:Activity
	a rdf:Class;
	rdfs:label "Activity";
	api2lod:pattern "http://oipa.openaidsearch.org/api/v2/activities/{id}".